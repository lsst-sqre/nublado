[
  {
    "api_version": "v1",
    "data": {
      "_._opt_._lsst_._software_._jupyterlab_._lsst_dask.yml": "# No longer used, but preserves compatibility with runlab.sh\ndask_worker.yml: |\n  enabled: false\n",
      "_._opt_._lsst_._software_._jupyterlab_._panda": "# Licensed under the Apache License, Version 2.0 (the \"License\");\n# You may not use this file except in compliance with the License.\n# You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n#\n# Authors:\n# - Wen Guan, <wen.guan@cern.ch>, 2020\n[common]\n# if logdir is configured, idds will write to idds.log in this directory.\n# else idds will go to stdout/stderr.\n# With supervisord, it's good to write to stdout/stderr, then supervisord can manage and rotate logs.\n# logdir = /var/log/idds\nloglevel = INFO\n[rest]\nhost = https://iddsserver.cern.ch:443/idds\n#url_prefix = /idds\n#cacher_dir = /tmp\ncacher_dir = /data/idds\n"
    },
    "immutable": true,
    "kind": "ConfigMap",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel-configmap",
      "namespace": "userlabs-rachel"
    }
  },
  {
    "api_version": "v1",
    "data": {
      "API_ROUTE": "/api",
      "AUTO_REPO_SPECS": "https://github.com/lsst-sqre/system-test@prod",
      "CULL_KERNEL_IDLE_TIMEOUT": "432000",
      "CULL_KERNEL_CONNECTED": "True",
      "CULL_KERNEL_INTERVAL": "300",
      "FIREFLY_ROUTE": "/portal/app",
      "HUB_ROUTE": "/nb/hub",
      "NO_ACTIVITY_TIMEOUT": "432000",
      "TAP_ROUTE": "/api/tap",
      "JUPYTER_IMAGE": "lighthouse.ceres/library/sketchbook:d_2077_10_23@sha256:1234",
      "JUPYTER_IMAGE_SPEC": "lighthouse.ceres/library/sketchbook:d_2077_10_23@sha256:1234",
      "IMAGE_DESCRIPTION": "Daily 2077_10_23",
      "IMAGE_DIGEST": "sha256:1234",
      "CPU_GUARANTEE": "0.25",
      "CPU_LIMIT": "1.0",
      "MEM_GUARANTEE": "805306368",
      "MEM_LIMIT": "3221225472",
      "EXTERNAL_INSTANCE_URL": "http://127.0.0.1:8080",
      "HOME": "/home/ceres",
      "SHELL": "/bin/bash"
    },
    "immutable": true,
    "kind": "ConfigMap",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel-env",
      "namespace": "userlabs-rachel"
    }
  },
  {
    "api_version": "v1",
    "data": {
      "_._etc_._passwd": "root:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\nsync:x:5:0:sync:/sbin:/bin/sync\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\nhalt:x:7:0:halt:/sbin:/sbin/halt\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\noperator:x:11:0:operator:/root:/sbin/nologin\ngames:x:12:100:games:/usr/games:/sbin/nologin\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\ntss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologin\ndbus:x:81:81:System message bus:/:/sbin/nologin\nnobody:x:99:99:Nobody:/:/sbin/nologin\nsystemd-network:x:192:192:systemd Network Management:/:/sbin/nologin\nlsst_lcl:x:1000:1000::/home/lsst_lcl:/bin/bash\nrachel:x:1101:1101:Rachel (?):/home/rachel:/bin/bash\n",
      "_._etc_._group": "root:x:0:\nbin:x:1:\ndaemon:x:2:\nsys:x:3:\nadm:x:4:\ntty:x:5:\ndisk:x:6:\nlp:x:7:\nmem:x:8:\nkmem:x:9:\nwheel:x:10:\ncdrom:x:11:\nmail:x:12:\nman:x:15:\ndialout:x:18:\nfloppy:x:19:\ngames:x:20:\nutmp:x:22:\ntape:x:33:\nutempter:x:35:\nvideo:x:39:\nftp:x:50:\nlock:x:54:\ntss:x:59:\naudio:x:63:\ndbus:x:81:\nscreen:x:84:\nnobody:x:99:\nusers:x:100:\nsystemd-journal:x:190:\nsystemd-network:x:192:\ncgred:x:997:\nssh_keys:x:998:\ninput:x:999:\nrachel:x:1101:\nlunatics:x:2028:rachel\nmechanics:x:2001:rachel\nstorytellers:x:2021:rachel\n"
    },
    "immutable": true,
    "kind": "ConfigMap",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel-nss",
      "namespace": "userlabs-rachel"
    }
  },
  {
    "api_version": "v1",
    "kind": "Namespace",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "userlabs-rachel"
    }
  },
  {
    "api_version": "networking.k8s.io/v1",
    "kind": "NetworkPolicy",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel-env",
      "namespace": "userlabs-rachel"
    },
    "spec": {
      "ingress": [
        {
          "ports": [
            {
              "port": 8888
            }
          ]
        }
      ],
      "pod_selector": {
        "match_labels": {
          "app": "jupyterhub",
          "component": "hub"
        }
      },
      "policy_types": [
        "Ingress"
      ]
    }
  },
  {
    "api_version": "v1",
    "kind": "Pod",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users",
        "app": "lab"
      },
      "name": "nb-rachel",
      "namespace": "userlabs-rachel"
    },
    "spec": {
      "containers": [
        {
          "args": [
            "/opt/lsst/software/jupyterlab/runlab.sh"
          ],
          "env": [
            {
              "name": "ACCESS_TOKEN",
              "value_from": {
                "secret_key_ref": {
                  "key": "token",
                  "name": "nb-rachel",
                  "optional": false
                }
              }
            },
            {
              "name": "KUBERNETES_NODE_NAME",
              "value_from": {
                "field_ref": {
                  "field_path": "spec.nodeName"
                }
              }
            },
            {
              "name": "BUTLER_SECRET",
              "value_from": {
                "secret_key_ref": {
                  "key": "butler-secret",
                  "name": "nb-rachel",
                  "optional": false
                }
              }
            }
          ],
          "env_from": [
            {
              "config_map_ref": {
                "name": "nb-rachel-env"
              }
            }
          ],
          "image": "lighthouse.ceres/library/sketchbook:d_2077_10_23@sha256:1234",
          "image_pull_policy": "IfNotPresent",
          "name": "notebook",
          "ports": [
            {
              "container_port": 8888,
              "name": "jupyterlab"
            }
          ],
          "resources": {
            "limits": {
              "cpu": "1.0",
              "memory": "3221225472"
            },
            "requests": {
              "cpu": "0.25",
              "memory": "805306368"
            }
          },
          "security_context": {
            "run_as_group": 1101,
            "run_as_non_root": true,
            "run_as_user": 1101
          },
          "volume_mounts": [
            {
              "mount_path": "/home",
              "name": "home",
              "read_only": false
            },
            {
              "mount_path": "/project",
              "name": "project",
              "read_only": true
            },
            {
              "mount_path": "/scratch",
              "name": "scratch",
              "read_only": false
            },
            {
              "mount_path": "/etc/passwd",
              "name": "nss-rachel-passwd",
              "read_only": true,
              "sub_path": "passwd"
            },
            {
              "mount_path": "/etc/group",
              "name": "nss-rachel-group",
              "read_only": true,
              "sub_path": "group"
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/lsst_dask.yml",
              "name": "nss-rachel-lsst-dask-yml",
              "read_only": true,
              "sub_path": "lsst_dask.yml"
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/panda",
              "name": "nss-rachel-panda",
              "read_only": true,
              "sub_path": "panda"
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/secrets",
              "name": "nb-rachel-secrets",
              "read_only": true
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/environment",
              "name": "nb-rachel-env",
              "read_only": false
            },
            {
              "mount_path": "/tmp",
              "name": "tmp",
              "read_only": false
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/runtime",
              "name": "nb-rachel-runtime",
              "read_only": true
            },
            {
              "mount_path": "/opt/lsst/software/jupyterlab/butler-secret",
              "name": "nb-rachel-secrets",
              "read_only": true,
              "sub_path": "butler-secret"
            }
          ],
          "working_dir": "/home/rachel"
        }
      ],
      "image_pull_secrets": [
        {
          "name": "pull-secret"
        }
      ],
      "init_containers": [
        {
          "env": [
            {
              "name": "EXTERNAL_GID",
              "value": "1101"
            },
            {
              "name": "EXTERNAL_UID",
              "value": "1101"
            }
          ],
          "env_from": [
            {
              "config_map_ref": {
                "name": "nb-rachel-env"
              }
            }
          ],
          "image": "ghcr.io/lsst-sqre/initdir:0.0.3",
          "name": "initdir",
          "resources": {
            "limits": {
              "cpu": "1.0",
              "memory": "3221225472"
            },
            "requests": {
              "cpu": "0.25",
              "memory": "805306368"
            }
          },
          "security_context": {
            "allow_privilege_escalation": true,
            "run_as_non_root": false,
            "run_as_user": 0
          },
          "volume_mounts": [
            {
              "mount_path": "/home",
              "name": "home",
              "read_only": false
            }
          ]
        }
      ],
      "restart_policy": "OnFailure",
      "security_context": {
        "fs_group": 1101,
        "run_as_non_root": true,
        "supplemental_groups": [
          1101,
          2028,
          2001,
          2021
        ]
      },
      "volumes": [
        {
          "name": "home",
          "nfs": {
            "path": "/share1/home",
            "read_only": false,
            "server": "10.13.105.122"
          }
        },
        {
          "name": "project",
          "nfs": {
            "path": "/share1/project",
            "read_only": true,
            "server": "10.13.105.122"
          }
        },
        {
          "name": "scratch",
          "nfs": {
            "path": "/share1/scratch",
            "read_only": false,
            "server": "10.13.105.122"
          }
        },
        {
          "config_map": {
            "items": [
              {
                "key": "_._etc_._passwd",
                "mode": 420,
                "path": "passwd"
              }
            ],
            "name": "nb-rachel-nss"
          },
          "name": "nss-rachel-passwd"
        },
        {
          "config_map": {
            "items": [
              {
                "key": "_._etc_._group",
                "mode": 420,
                "path": "group"
              }
            ],
            "name": "nb-rachel-nss"
          },
          "name": "nss-rachel-group"
        },
        {
          "config_map": {
            "items": [
              {
                "key": "_._opt_._lsst_._software_._jupyterlab_._lsst_dask.yml",
                "mode": 420,
                "path": "lsst_dask.yml"
              }
            ],
            "name": "nb-rachel-configmap"
          },
          "name": "nss-rachel-lsst-dask-yml"
        },
        {
          "config_map": {
            "items": [
              {
                "key": "_._opt_._lsst_._software_._jupyterlab_._panda",
                "mode": 420,
                "path": "panda"
              }
            ],
            "name": "nb-rachel-configmap"
          },
          "name": "nss-rachel-panda"
        },
        {
          "name": "nb-rachel-secrets",
          "secret": {
            "secret_name": "nb-rachel"
          }
        },
        {
          "config_map": {
            "name": "nb-rachel-env"
          },
          "name": "nb-rachel-env"
        },
        {
          "empty_dir": {},
          "name": "tmp"
        },
        {
          "downward_api": {
            "items": [
              {
                "path": "limits_cpu",
                "resource_field_ref": {
                  "container_name": "notebook",
                  "resource": "limits.cpu"
                }
              },
              {
                "path": "requests_cpu",
                "resource_field_ref": {
                  "container_name": "notebook",
                  "resource": "requests.cpu"
                }
              },
              {
                "path": "limits_memory",
                "resource_field_ref": {
                  "container_name": "notebook",
                  "resource": "limits.memory"
                }
              },
              {
                "path": "requests_memory",
                "resource_field_ref": {
                  "container_name": "notebook",
                  "resource": "requests.memory"
                }
              }
            ]
          },
          "name": "nb-rachel-runtime"
        }
      ]
    },
    "status": {
      "phase": "Running"
    }
  },
  {
    "api_version": "v1",
    "kind": "ResourceQuota",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel",
      "namespace": "userlabs-rachel"
    },
    "spec": {
      "hard": {
        "limits.cpu": "9.0",
        "limits.memory": "28991029248"
      }
    }
  },
  {
    "api_version": "v1",
    "data": {
      "butler-secret": "c29tZSBidXRsZXIgc2VjcmV0",
      "db-password": "c29tZSBkYXRhYmFzZSBwYXNzd29yZA==",
      "token": "dG9rZW4tb2YtYWZmZWN0aW9u"
    },
    "immutable": true,
    "kind": "Secret",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "nb-rachel",
      "namespace": "userlabs-rachel"
    },
    "type": "Opaque"
  },
  {
    "api_version": "v1",
    "data": {
      ".dockerconfigjson": "c29tZWVuY29kZWRhdXRoc3RyaW5n"
    },
    "immutable": true,
    "kind": "Secret",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "pull-secret",
      "namespace": "userlabs-rachel"
    },
    "type": "kubernetes.io/dockerconfigjson"
  },
  {
    "api_version": "v1",
    "kind": "Service",
    "metadata": {
      "annotations": {
        "argocd.argoproj.io/compare-options": "IgnoreExtraneous",
        "argocd.argoproj.io/sync-options": "Prune=false"
      },
      "labels": {
        "argocd.argoproj.io/instance": "nublado-users"
      },
      "name": "lab",
      "namespace": "userlabs-rachel"
    },
    "spec": {
      "ports": [
        {
          "port": 8888,
          "target_port": 8888
        }
      ],
      "selector": {
        "app": "lab"
      }
    }
  }
]
